<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exam - ChatExam</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/exam_chat.css') }}">
</head>
<body>
<!-- NAVBAR -->
<header class="navbar">
    <div class="navbar-brand">ChatExam</div>
</header>

<!-- MAIN CONTENT -->
<div class="main-content">
    <!-- LEFT: QUESTIONS -->
    <div class="questions-panel">
        <form method="POST">
            {{ form.hidden_tag() }}

            {% for field in form if field.name != 'csrf_token' and field.name != 'submit' %}
            <div class="question">
                <p><b>{{ field.label.text }}</b></p>
                {{ field(rows=3, class="form-control") }}
            </div>
            {% endfor %}

            {{ form.submit(class="btn-submit") }}
        </form>
    </div>

    <!-- RIGHT: CODE PANEL -->
    <div class="code-panel">
        <div class="tab-bar" id="tab-bar"></div>
        <div id="editor"></div>
    </div>
</div>
</body>
<!-- MONACO EDITOR -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
<script src="{{ url_for('static', filename='js/monaco_viewer.js') }}"></script>
<script>
  const files = {{ attempt_files | tojson | default('{}', true) }};
  initMonacoViewer(files);
</script>
</html>
