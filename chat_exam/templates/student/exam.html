<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/exam_chat.css') }}">
</head>
<header class="navbar">
  <div class="navbar-brand">ChatExam</div>
</header>

<div class="main-content">
  <!-- LEFT: Questions -->
  <div class="questions-panel">
    <form method="POST">
      {{ form.hidden_tag() }}

      {% for field in form if field.name != 'csrf_token' and field.name != 'submit' %}
        <div class="question">
          <p><b>{{ field.label.text }}</b></p>
          {{ field(rows=3, class="form-control") }}
        </div>
      {% endfor %}

      {{ form.submit(class="btn-submit") }}
    </form>
  </div>

  <!-- RIGHT: Code panel -->
  <div class="code-panel">
    <div id="editor"></div>
  </div>
</div>

<!-- Monaco editor -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
<script>
require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs' }});
require(["vs/editor/editor.main"], function () {
  monaco.editor.create(document.getElementById('editor'), {
    value: {{ code_json | safe }},
    language: 'python',
    theme: 'vs-dark',
    readOnly: true,
    minimap: { enabled: false },
    fontSize: 15,
    scrollBeyondLastLine: false
  });
});
</script>

